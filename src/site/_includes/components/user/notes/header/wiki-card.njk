<div style="background:red">HEADER slot activo</div>
<pre style="background:#222;color:#0f0;padding:1rem;">
{{ renderData | dump }}
</pre>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const scriptTag = document.getElementById("user-note-frontmatter");
    
    if (scriptTag) {
        try {
            const rawData = scriptTag.textContent.trim();
            const frontmatter = JSON.parse(rawData);

            const estado = frontmatter.estado || null;
            const tipoContenido = frontmatter.tipo_contenido || null;
            
            if (!estado && !tipoContenido) return;

            const cardHtml = `
                <aside class="wiki-card-container">
                    <div class="wiki-card-header">
                        <h3>Ficha de Propiedades</h3>
                    </div>
                    <div class="wiki-card-content">
                        ${estado ? `<p><strong>Estado:</strong> ${estado}</p>` : ""}
                        ${tipoContenido ? `<p><strong>Tipo Contenido:</strong> ${tipoContenido}</p>` : ""}
                    </div>
                </aside>
            `;
            
            const header = document.querySelector('header');
            if (header) {
                header.insertAdjacentHTML('beforeend', cardHtml);
            }

        } catch (e) {
            console.error("Error al parsear el frontmatter expuesto por expose-frontmatter.njk:", e);
        }
    }
});
</script>
