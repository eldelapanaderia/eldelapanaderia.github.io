{# src/site/_includes/components/user/sidebar/top/00-debug-filetree.njk #}

{% if filetree %}
    <details open style="margin: 20px; padding: 10px; border: 1px solid #ccc; background-color: #f9f9f9;">
        <summary style="font-weight: bold; cursor: pointer;">
            DEBUG: Estructura del filetree (Claves Principales)
        </summary>
        
        <pre style="white-space: pre-wrap; word-break: break-all; font-size: 0.8em; max-height: 300px; overflow: auto;">
            {# 
                Usamos el filtro 'dump' o 'json' para serializar el objeto. 
                'dump' es común en Eleventy. Si falla, usa 'json'.
            #}
            {%- set keys = [] -%}
            {%- for key, value in filetree -%}
                {%- set keys = (keys.push(key), keys) -%}
            {%- endfor -%}
            
            CLAVES DE NIVEL SUPERIOR EN FILE TREE: 
            {{ keys | dump }}

            {# Si quieres ver la estructura completa (puede ser muy grande): #}
            {# ESTRUCTURA COMPLETA: #}
            {# {{ filetree | dump }} #}
            
        </pre>
    </details>
{% else %}
    <p>DEBUG: La variable 'filetree' no está definida en este contexto.</p>
{% endif %}
